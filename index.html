<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filamentos para Impresi贸n 3D | Hoho3D</title>
    <style>
        :root {
            --primary-color: #E0F2F1;
            --accent-color: #26A69A;
            --dark-color: #004D40;
            --light-color: #FFFFFF;
            --text-color: #263238;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--primary-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        header h1 {
            color: var(--dark-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .container {
            display: flex;
            flex: 1;
            gap: 25px;
            max-width: 1800px;
            margin: 0 auto;
            width: 100%;
        }

        .panel {
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }

        .panel h2 {
            color: var(--dark-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent-color);
            font-size: 1.5rem;
        }

        /* Panel izquierdo - Lista de filamentos */
        .left-panel {
            flex: 1;
            min-width: 300px;
        }

        .search-container {
            position: relative;
            margin-bottom: 20px;
        }

        .search-container input {
            width: 100%;
            padding: 12px 15px 12px 40px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-container input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(38, 166, 154, 0.2);
        }

        .search-container i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }

        .filaments-list {
            overflow-y: auto;
            flex: 1;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) var(--primary-color);
        }

        .filaments-list::-webkit-scrollbar {
            width: 8px;
        }

        .filaments-list::-webkit-scrollbar-track {
            background: var(--primary-color);
            border-radius: 10px;
        }

        .filaments-list::-webkit-scrollbar-thumb {
            background-color: var(--accent-color);
            border-radius: 10px;
        }

        .filament-item {
            padding: 15px;
            margin-bottom: 15px;
            border-radius: var(--border-radius);
            background-color: #f8f8f8;
            transition: var(--transition);
            border: 1px solid #eee;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .filament-item:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
            border-color: var(--accent-color);
        }

        .color-box {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            margin-right: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .filament-info {
            flex: 1;
        }

        .filament-info h3 {
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .filament-info .hex-code {
            font-size: 0.9rem;
            color: #666;
            font-family: monospace;
        }

        .filament-link {
            display: inline-block;
            padding: 8px 15px;
            background-color: var(--accent-color);
            color: white;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition);
            margin-top: 10px;
        }

        .filament-link:hover {
            background-color: var(--dark-color);
        }

        /* Panel central - Herramientas de color */
        .center-panel {
            flex: 1.5;
            min-width: 400px;
            align-items: center;
        }

        .color-picker-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .color-wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 25px;
        }

        #color-wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            cursor: pointer;
        }

        .current-color-display {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
            border: 3px solid white;
        }

        .suggestion-container {
            text-align: center;
            margin: 25px 0;
            padding: 20px;
            background-color: #f0f9f8;
            border-radius: var(--border-radius);
        }

        #suggestion-text {
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            margin: 15px 0;
        }

        .generate-button {
            background-color: var(--dark-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .generate-button:hover {
            background-color: #00352d;
            transform: translateY(-2px);
        }

        .cube-container {
            width: 250px;
            height: 250px;
            margin: 30px auto 0;
            perspective: 800px;
        }

        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate 20s infinite linear;
        }

        .cube-face {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            border: 2px solid #ddd;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .cube-face span {
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .front  { transform: rotateY(0deg) translateZ(125px); }
        .back   { transform: rotateY(180deg) translateZ(125px); }
        .right  { transform: rotateY(90deg) translateZ(125px); }
        .left   { transform: rotateY(-90deg) translateZ(125px); }
        .top    { transform: rotateX(90deg) translateZ(125px); }
        .bottom { transform: rotateX(-90deg) translateZ(125px); }

        @keyframes rotate {
            from { transform: rotateX(0) rotateY(0) rotateZ(0); }
            to { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
        }

        /* Panel derecho - Filamentos similares */
        .right-panel {
            flex: 1;
            min-width: 300px;
        }

        .similar-filaments {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .similar-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: #f8f8f8;
            border-radius: var(--border-radius);
            transition: var(--transition);
            border: 1px solid #eee;
        }

        .similar-item:hover {
            transform: translateX(5px);
            border-color: var(--accent-color);
        }

        .similar-color {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            margin-right: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .similar-info {
            flex: 1;
        }

        .similar-info h3 {
            font-size: 1rem;
            margin-bottom: 3px;
        }

        .similar-info .hex-code {
            font-size: 0.85rem;
            color: #666;
            font-family: monospace;
        }

        .similar-link {
            font-size: 0.8rem;
            color: var(--accent-color);
            text-decoration: none;
        }

        .similar-link:hover {
            text-decoration: underline;
        }

        /* Estilos responsivos */
        @media (max-width: 1200px) {
            .container {
                flex-wrap: wrap;
            }
            
            .left-panel, .center-panel, .right-panel {
                flex: 1 1 100%;
                min-width: 100%;
            }
            
            .center-panel {
                order: 1;
            }
            
            .left-panel {
                order: 2;
            }
            
            .right-panel {
                order: 3;
            }
            
            .color-wheel-container {
                width: 250px;
                height: 250px;
            }
            
            .cube-container {
                width: 200px;
                height: 200px;
            }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .panel {
                padding: 15px;
            }
            
            .color-wheel-container {
                width: 220px;
                height: 220px;
            }
            
            .cube-container {
                width: 180px;
                height: 180px;
            }
        }

        /* Mejoras de accesibilidad visual */
        :focus {
            outline: 3px solid var(--accent-color);
            outline-offset: 2px;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>
</head>
<body>
    <!-- Encabezado con t铆tulo y descripci贸n -->
    <header role="banner">
        <h1>Filamentos para Impresi贸n 3D</h1>
        <p>Explora nuestra colecci贸n de filamentos de alta calidad, encuentra el color perfecto para tus proyectos y descubre nuevas ideas creativas</p>
    </header>

    <div class="container" role="main">
        <!-- Panel izquierdo - Lista de filamentos -->
        <section class="panel left-panel" aria-labelledby="filaments-title">
            <h2 id="filaments-title">Filamentos disponibles</h2>
            <div class="search-container">
                <span class="sr-only">Buscar filamentos</span>
                <i></i>
                <input type="text" id="search-input" placeholder="Buscar por nombre o color (hex)" aria-label="Buscar filamentos">
            </div>
            <div class="filaments-list" id="filaments-list" role="list">
                <!-- Los elementos de filamento se generar谩n din谩micamente con JavaScript -->
            </div>
        </section>

        <!-- Panel central - Herramientas de color -->
        <section class="panel center-panel" aria-labelledby="tools-title">
            <h2 id="tools-title">Herramientas de color</h2>
            
            <div class="color-picker-container">
                <div class="color-wheel-container">
                    <canvas id="color-wheel" width="300" height="300" 
                            aria-label="Rueda de color para seleccionar un tono" 
                            role="application"></canvas>
                </div>
                
                <div class="current-color-display" id="current-color" 
                     aria-label="Color actualmente seleccionado"></div>
            </div>
            
            <div class="suggestion-container">
                <h3>Inspiraci贸n para imprimir</h3>
                <div id="suggestion-text">Haz clic en el bot贸n para obtener una idea de impresi贸n</div>
                <button class="generate-button" id="generate-suggestion" 
                        aria-label="Generar idea aleatoria de impresi贸n 3D">
                    Generar idea
                </button>
            </div>
            
            <div class="cube-container" aria-label="Cubo 3D mostrando diferentes colores de filamentos">
                <div class="cube" id="color-cube" role="img" aria-label="Representaci贸n 3D de filamentos">
                    <div class="cube-face front" aria-label="Cara frontal del cubo"></div>
                    <div class="cube-face back" aria-label="Cara trasera del cubo"></div>
                    <div class="cube-face right" aria-label="Cara derecha del cubo"></div>
                    <div class="cube-face left" aria-label="Cara izquierda del cubo"></div>
                    <div class="cube-face top" aria-label="Cara superior del cubo"></div>
                    <div class="cube-face bottom" aria-label="Cara inferior del cubo"></div>
                </div>
            </div>
        </section>

        <!-- Panel derecho - Filamentos similares -->
        <section class="panel right-panel" aria-labelledby="similar-title">
            <h2 id="similar-title">Filamentos similares</h2>
            <div class="similar-filaments" id="similar-filaments" role="list">
                <!-- Los filamentos similares se generar谩n din谩micamente con JavaScript -->
            </div>
        </section>
    </div>

    <script>
        // Datos de los filamentos
        const filaments = [
            {
                name: "Grilon 3 PLA SILK Platino 1.75mm x 1kg",
                hex: "#5b6770",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/silk/grilon-3-pla-silk-platino-175mm-x-1kg-5b6770"
            },
            {
                name: "Grilon 3 PLA Piel 720 1.75mm x 1kg",
                hex: "#e7b78a",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-piel-720-175mm-x-1kg-e7b78a"
            },
            {
                name: "Grilon 3 PLA Gris Plata 1.75mm x 1kg",
                hex: "#75787b",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-gris-plata-175mm-x-1kg-75787b"
            },
            {
                name: "Grilon 3 PLA Cobre 1.75mm x 1kg",
                hex: "#a1561c",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-cobre-175mm-x-1kg-a1561c"
            },
            {
                name: "Grilon 3 PLA Bronce 1.75mm x 1kg",
                hex: "#998542",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-bronce-175mm-x-1kg-998542"
            },
            {
                name: "Grilon 3 PLA Verde Oliva 1.75mm x 1kg",
                hex: "#556b2f",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-verde-oliva-175mm-x-1kg"
            },
            {
                name: "Grilon 3 PLA Azul Marino 1.75mm x 1kg",
                hex: "#0f3460",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-azul-marino-175mm-x-1kg"
            },
            {
                name: "Grilon 3 PLA Rojo Fuego 1.75mm x 1kg",
                hex: "#b22222",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-rojo-fuego-175mm-x-1kg"
            },
            {
                name: "Grilon 3 PLA Amarillo Brillante 1.75mm x 1kg",
                hex: "#ffd700",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-amarillo-brillante-175mm-x-1kg"
            },
            {
                name: "Grilon 3 PLA Morado Profundo 1.75mm x 1kg",
                hex: "#4b0082",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-morado-profundo-175mm-x-1kg"
            },
            {
                name: "Grilon 3 PLA Naranja Fluorescente 1.75mm x 1kg",
                hex: "#ff4500",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-naranja-fluorescente-175mm-x-1kg"
            },
            {
                name: "Grilon 3 PLA Verde Esmeralda 1.75mm x 1kg",
                hex: "#50c878",
                link: "https://www.hoho3d.com.ar/impresion-3d/filamentos/grilon-3/basicos/grilon-3-pla-verde-esmeralda-175mm-x-1kg"
            }
        ];

        // Ideas de impresi贸n
        const printingIdeas = [
            "figura decorativa para el hogar",
            "soporte para tel茅fono m贸vil",
            "organizador de escritorio",
            "maceta para plantas peque帽as",
            "pieza de ajedrez personalizada",
            "porta auriculares",
            "soporte para libros",
            "carcasa personalizada para dispositivo electr贸nico",
            "adorno navide帽o",
            "protector de esquina para muebles",
            "sujetalibros con dise帽o creativo",
            "l谩mpara decorativa",
            "caja de almacenamiento",
            "llavero personalizado",
            "soporte para tarjetas de visita"
        ];

        // Variables globales
        let selectedColor = null;
        let currentSuggestion = null;

        // Inicializar la aplicaci贸n
        document.addEventListener('DOMContentLoaded', () => {
            renderFilamentsList(filaments);
            drawColorWheel();
            setupCubeColors();
            setupEventListeners();
            selectRandomColor();
        });

        // Renderizar la lista de filamentos
        function renderFilamentsList(filamentsArray) {
            const listElement = document.getElementById('filaments-list');
            listElement.innerHTML = '';
            
            filamentsArray.forEach(filament => {
                const item = document.createElement('div');
                item.className = 'filament-item';
                item.role = 'listitem';
                item.tabIndex = 0;
                item.innerHTML = `
                    <div class="color-box" style="background-color: ${filament.hex};"></div>
                    <div class="filament-info">
                        <h3>${filament.name}</h3>
                        <div class="hex-code">${filament.hex}</div>
                        <a href="${filament.link}" class="filament-link" target="_blank" aria-label="Ver producto ${filament.name}">Ver producto</a>
                    </div>
                `;
                listElement.appendChild(item);
            });
        }

        // Dibujar la rueda de color
        function drawColorWheel() {
            const canvas = document.getElementById('color-wheel');
            const ctx = canvas.getContext('2d');
            const radius = canvas.width / 2;
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // Dibujar el gradiente de color
            for (let angle = 0; angle < 360; angle += 0.5) {
                const startAngle = (angle - 2) * Math.PI / 180;
                const endAngle = angle * Math.PI / 180;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.closePath();
                
                // Convertir 谩ngulo a color HSL
                const hue = angle;
                const saturation = 100;
                const lightness = 50;
                
                ctx.fillStyle = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
                ctx.fill();
            }
        }

        // Configurar colores del cubo
        function setupCubeColors() {
            const cubeFaces = document.querySelectorAll('.cube-face');
            const colors = getRandomFilaments(6);
            
            cubeFaces.forEach((face, index) => {
                const filament = colors[index];
                face.style.backgroundColor = filament.hex;
                face.innerHTML = `<span>${filament.name.split(' - ')[0]}</span>`;
            });
        }

        // Obtener filamentos aleatorios
        function getRandomFilaments(count) {
            const shuffled = [...filaments].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // Configurar event listeners
        function setupEventListeners() {
            // B煤squeda en tiempo real
            document.getElementById('search-input').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const filtered = filaments.filter(filament => 
                    filament.name.toLowerCase().includes(searchTerm) || 
                    filament.hex.toLowerCase().includes(searchTerm)
                );
                renderFilamentsList(filtered);
            });
            
            // Rueda de color - selecci贸n de color
            document.getElementById('color-wheel').addEventListener('click', handleColorSelection);
            
            // Generar sugerencia
            document.getElementById('generate-suggestion').addEventListener('click', generateSuggestion);
        }

        // Manejar selecci贸n de color
        function handleColorSelection(e) {
            const canvas = document.getElementById('color-wheel');
            const ctx = canvas.getContext('2d');
            const rect = canvas.getBoundingClientRect();
            
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Obtener datos de p铆xel
            const pixel = ctx.getImageData(x, y, 1, 1).data;
            
            if (pixel[3] > 0) { // Si hay un color (no transparente)
                const r = pixel[0];
                const g = pixel[1];
                const b = pixel[2];
                selectedColor = `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
                
                // Actualizar visualizaci贸n
                document.getElementById('current-color').style.backgroundColor = selectedColor;
                
                // Actualizar filamentos similares
                updateSimilarFilaments(selectedColor);
            }
        }

        // Seleccionar un color aleatorio al inicio
        function selectRandomColor() {
            const randomIndex = Math.floor(Math.random() * filaments.length);
            selectedColor = filaments[randomIndex].hex;
            document.getElementById('current-color').style.backgroundColor = selectedColor;
            updateSimilarFilaments(selectedColor);
        }

        // Actualizar filamentos similares
        function updateSimilarFilaments(targetHex) {
            // Calcular similitud de color
            const withDistances = filaments.map(filament => {
                const distance = colorDistance(targetHex, filament.hex);
                return {...filament, distance};
            });
            
            // Ordenar por similitud
            withDistances.sort((a, b) => a.distance - b.distance);
            
            // Tomar los 5 m谩s cercanos
            const similar = withDistances.slice(0, 5);
            
            // Renderizar
            const container = document.getElementById('similar-filaments');
            container.innerHTML = '';
            
            similar.forEach(filament => {
                const item = document.createElement('div');
                item.className = 'similar-item';
                item.role = 'listitem';
                item.innerHTML = `
                    <div class="similar-color" style="background-color: ${filament.hex};"></div>
                    <div class="similar-info">
                        <h3>${filament.name}</h3>
                        <div class="hex-code">${filament.hex}</div>
                    </div>
                    <a href="${filament.link}" class="similar-link" target="_blank" aria-label="Ver producto ${filament.name}">Ver</a>
                `;
                container.appendChild(item);
            });
        }

        // Calcular distancia entre dos colores (en RGB)
        function colorDistance(hex1, hex2) {
            // Convertir hex a RGB
            const rgb1 = hexToRgb(hex1);
            const rgb2 = hexToRgb(hex2);
            
            // Calcular distancia euclidiana
            const dr = rgb1.r - rgb2.r;
            const dg = rgb1.g - rgb2.g;
            const db = rgb1.b - rgb2.b;
            
            return Math.sqrt(dr * dr + dg * dg + db * db);
        }

        // Convertir hex a RGB
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        // Generar sugerencia de impresi贸n
        function generateSuggestion() {
            const randomFilamentIndex = Math.floor(Math.random() * filaments.length);
            const randomIdeaIndex = Math.floor(Math.random() * printingIdeas.length);
            
            const filament = filaments[randomFilamentIndex];
            const idea = printingIdeas[randomIdeaIndex];
            
            currentSuggestion = { filament, idea };
            
            // Actualizar UI
            document.getElementById('suggestion-text').textContent = 
                `Te sugerimos imprimir un ${idea} con el filamento ${filament.name}`;
            
            // Destacar el filamento en la lista
            highlightFilament(filament);
        }

        // Destacar filamento en la lista
        function highlightFilament(filament) {
            const items = document.querySelectorAll('.filament-item');
            
            items.forEach(item => {
                const nameElement = item.querySelector('h3');
                if (nameElement && nameElement.textContent.includes(filament.name)) {
                    item.style.border = '2px solid #26A69A';
                    item.style.backgroundColor = '#e6f7f5';
                    
                    // Desplazar a la vista
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    
                    // Quitar el resaltado despu茅s de un tiempo
                    setTimeout(() => {
                        item.style.border = '1px solid #eee';
                        item.style.backgroundColor = '#f8f8f8';
                    }, 5000);
                }
            });
        }
    </script>
</body>
</html>